<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>フライトマップ - CABINTIME</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- ヘッダー -->
    <div class="header">
        <div class="airline-info">
            <a href="https://marslink.co.jp/cabintime/" style="text-decoration: none;" target="_blank" class="airline-logo">CABIN<span class="logo-accent">TIME</span></a>
            <div class="flight-info">
                <div class="flight-number">ML478</div>
                <div class="flight-status">運航中</div>
            </div>
        </div>
        <div class="time-info">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM12.5 7H11V13L16.25 16.15L17 14.92L12.5 12.25V7Z" fill="white"/>
            </svg>
            <span id="time-left-header">62分</span>
        </div>
    </div>

    <!-- マップとパネル -->
    <div class="map-container">
        <div id="map"></div>

        <div class="flight-panel">
            <div class="route-header">
                <div class="route-codes">
                    <div class="airport-code">OKA</div>
                    <div class="route-arrow">→</div>
                    <div class="airport-code">KIX</div>
                </div>
            </div>
            <div class="airport-names">
                <span>那覇空港</span>
                <span>関西国際空港</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
                <div class="aircraft-marker" id="aircraftMarker"></div>
            </div>
            <div class="flight-details">
                <div class="detail-item"><span class="detail-label">飛行距離</span><span class="detail-value">1,159 km</span></div>
                <div class="detail-item"><span class="detail-label">残り距離</span><span class="detail-value" id="remainingDistance">873 km</span></div>
                <div class="detail-item"><span class="detail-label">飛行速度</span><span class="detail-value" id="speed">845 km/h</span></div>
                <div class="detail-item"><span class="detail-label">高度</span><span class="detail-value" id="altitude">11,280 m</span></div>
                <div class="detail-item"><span class="detail-label">到着予定</span><span class="detail-value" id="eta">14:25</span></div>
            </div>
        </div>

        <div class="bottom-controls">
            <button class="control-btn" onclick="centerOnAircraft()" title="機体の現在位置を地図の中央に表示">
                機体を中央表示
            </button>
            <button class="control-btn" onclick="showFullRoute()" title="出発地から到着地までの全ルートを表示">
                全ルート表示
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <!-- Bottom Navigation -->
        <div class="navbar">
            <button class="nav-item" onclick="history.back()">
                <div class="nav-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="nav-text">戻る</div>
            </button>
            <button class="nav-item active" onclick="location.reload()">
                <div class="nav-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="nav-text">更新</div>
            </button>
            <button class="nav-item" onclick="history.forward()">
                <div class="nav-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 11h12.17l-5.59-5.59L12 4l8 8-8 8-1.41-1.41L16.17 13H4v-2z" fill="currentColor"/>
                    </svg>
                </div>
                <div class="nav-text">進む</div>
            </button>
        </div>
        
        <!-- Copyright Information -->
        <div class="copyright">
            <p>© 2025 CABINTIME. All Rights Reserved.</p>
            <p>安全で快適なフライトをお楽しみください</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/main.js"></script>
    <!-- Google Maps & JavaScript -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAiKdev3qxj_3JihNdpHKQeS5h5tS9cRiA&callback=tryInitMap"></script>
</body>
</html>